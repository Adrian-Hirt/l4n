.card
  .card-body
    %h1= _('Cart')
    - if model.cart_items.none?
      = _('Cart|Your cart is empty')
    - else
      %table.table.table-bordered
        %tr
          %th= _('Cart|Product')
          %th= _('Cart|Product variant')
          %th= _('Cart|Quantity')
          %th= _('Cart|Price')
          %th= _('Cart|Total')
        - model.cart_items.each do |cart_item|
          %tr
            %td= link_to cart_item.product_variant.product.name, [:shop, cart_item.product_variant.product]
            %td= cart_item.product_variant.name
            %td= cart_item.quantity
            %td= humanized_money_with_symbol(cart_item.product_variant.price)
            %td= humanized_money_with_symbol(cart_item.total)
            %td
              = delete_button cart_item, namespace: %i[shop], icon_only: true, size: :sm
              = button nil, increase_quantity_shop_cart_item_path(cart_item), btn_icon: %i[fas fa-plus], method: :post, icon_only: true, size: :sm, disable_on_click: true, disabled: cart_item.quantity >= cart_item.product_variant.availability
              = button nil, decrease_quantity_shop_cart_item_path(cart_item), btn_icon: %i[fas fa-minus], method: :post, icon_only: true, size: :sm, disable_on_click: true, disabled: cart_item.quantity <= 1
