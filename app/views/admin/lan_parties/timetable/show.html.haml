- content_for :header_buttons do
  = new_button TimetableCategory, href: new_admin_lan_party_timetable_category_path(model)
  = new_button TimetableEntry, href: new_admin_lan_party_timetable_entry_path(model)
  = edit_button model, namespace: %i[admin lan_party]

.card.mb-3
  .card-body
    - model.timetable_categories.each do |category|
      .mb-3
        = category.name
        = edit_button category, namespace: %i[admin]
        = delete_button category, namespace: %i[admin]
        - category.timetable_entries.each do |entry|
          .ms-5.mb-3
            = entry.title
            = edit_button entry, namespace: %i[admin]
            = delete_button entry, namespace: %i[admin]

.card
  .card-body
    - if model.times_set?
      - datetime = model.start_datetime.beginning_of_hour
      - loop_end = model.end_datetime.beginning_of_hour
      = l(datetime.to_date, format: :long)
      %br
      - while datetime <= loop_end
        - if datetime.hour.zero?
          %hr
          = l(datetime.to_date, format: :long)
          %br
        = datetime.strftime("%H:%M")
        %br
        - datetime += 1.hour
    - else
      .alert.alert-warning= _('Admin|Timetable|Times are not set')
